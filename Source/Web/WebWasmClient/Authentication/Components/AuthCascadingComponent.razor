<CascadingValue Value="User">
    <CascadingValue Value="Team">
        @if(User != null)
        {
            @ChildContent
        }
    </CascadingValue>
</CascadingValue>

@code{
    [Parameter]
    public RenderFragment ChildContent { get; set; }
    [CascadingParameter]
    public Task<AuthenticationState> AuthenticationState { get; set; }
    [Inject]
    public HostAuthenticationStateProvider authenticationStateProvider { get; set; }
    public ClaimsPrincipal User;
    public TeamDTO Team;
    protected override async Task OnParametersSetAsync()
    {
        await Task.Delay(200);
        User = (await AuthenticationState).User;
        if (!User.Identity.IsAuthenticated)
        {
            authenticationStateProvider.SignIn();
        }
        Team = await httpClientService.GetFromAPI<TeamDTO>("/team/current");
    }
}
